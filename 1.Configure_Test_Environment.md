1) Create a user called ansible

```
adduser ansible
passwd ansible
```


1) Generate public and private key pair on the first server


```
ssh-keygen
```


Output:

```
[cloud_user@darshanphegde1c ~]$ ssh-keygen
Generating public/private rsa key pair.
Enter file in which to save the key (/home/cloud_user/.ssh/id_rsa): 
Enter passphrase (empty for no passphrase): 
Enter same passphrase again: 
Your identification has been saved in /home/cloud_user/.ssh/id_rsa.
Your public key has been saved in /home/cloud_user/.ssh/id_rsa.pub.
The key fingerprint is:
SHA256:M6dzS+0irQySSzVUivlj0AshdKidtd4zLCwRJZEFRw4 cloud_user@darshanphegde1c.mylabserver.com
The key's randomart image is:
+---[RSA 2048]----+
| .EOB   .        |
|  +B.= o         |
| o +*.+          |
|. + .= .         |
|   + oB S .      |
|  . ++=o = .     |
|   .+..oo.o .    |
|   . o o.+oo     |
|    .   oo...    |
+----[SHA256]-----+
[cloud_user@darshanphegde1c ~]$ cd .ssh
[cloud_user@darshanphegde1c .ssh]$ ll
total 12
-rw-------. 1 cloud_user cloud_user  405 Oct  8 22:50 authorized_keys
-rw-------. 1 cloud_user cloud_user 1679 Jan 15 09:18 id_rsa
-rw-r--r--. 1 cloud_user cloud_user  424 Jan 15 09:18 id_rsa.pub
```


2)Exchange the public key with server2

```
ssh-copy-id 52.221.200.23
```


Output:

```
cloud_user@darshanphegde1c .ssh]$ ssh-copy-id 52.221.200.23
/bin/ssh-copy-id: INFO: Source of key(s) to be installed: "/home/cloud_user/.ssh/id_rsa.pub"
The authenticity of host '52.221.200.23 (52.221.200.23)' can't be established.
ECDSA key fingerprint is SHA256:Sh5ax5mN3cu8H3XPP7z783SBW2bFRN5+N+7GV218N2k.
ECDSA key fingerprint is MD5:0d:0c:b1:1d:e1:cf:6d:9f:51:bf:0f:dc:60:82:a1:73.
Are you sure you want to continue connecting (yes/no)? yes
/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed
/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys
cloud_user@52.221.200.23's password: 
Number of key(s) added: 1
Now try logging into the machine, with:   "ssh '52.221.200.23'"
and check to make sure that only the key(s) you wanted were added.
```
3)Now verify whether you can login to server2 without any password

```
[cloud_user@darshanphegde1c .ssh]$ ssh 52.221.200.23
[cloud_user@darshanphegde2c ~]$ cd .ssh
[cloud_user@darshanphegde2c .ssh]$ ll
total 4
-rw-------. 1 cloud_user cloud_user 829 Jan 15 09:26 authorized_keys
[cloud_user@darshanphegde2c .ssh]$ ll
total 4
-rw-------. 1 cloud_user cloud_user 829 Jan 15 09:26 authorized_keys
[cloud_user@darshanphegde2c .ssh]$ cat authorized_keys 
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCv86K5tOtssAJsrcRzY4r6onAdB8ky3sDmw8SMv3+5iDqj6VMNBefjlqL0xSzo8GskgYvGpKO2hieZ52/MgYYo/OmrGD+BKhZfZIMExO38SPe+tduY2eKeNxL
wR6BaTtKrj52vQ2EtwjwmNMj9t6Lj3Wq9WR3HLfj7Jup1+6Sk+msEiFD0KA9T3Egf+gy1JQevzJHZhzIvf5QCSw8I56TGAj4vc3IEmu2Xb0whdyC9eHFDOMR+HmGJ3LvcKLHvN3IbD8j8Op1NRyyGqNn0T2fILm
6Je8/nCnd8VtP8PF+J+n//lpv+JslkILrjru4O3/FdkT85mgIVuw8vg3iLt+un cloud_user@linuxacademy
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDjmTUlYmCGgqMD99IDCPsL2I+Ib/zrPLDklaeTIwHbHAmXE8O5MPf3EZPEqgQJ8QXzsetzHgnbfwYnKo00knHMu1TMAvVI+/QdB0Ik04N5p2S71GZFXP+pfGJ
OOMs1i2qvbMWTB8IkB2MxYRWDcaDm8G1eUqHYE+R7VDxbJcQcd1huX4wn/tyjL3ZKPuypd+j7wHIIijDf0XKtu74iBxQg0MM8+gHdEzPnMSg/G7mkGnEaHbRm1P+ullsOLYRvph/bWvsypF6cMMps9GgjNm+Taf
WGWMvQCcDV5cu8J2RyBstZgfX7VfcKCbAGhrg4gf1ha3qeNizOpw1NM6XWMDgj cloud_user@darshanphegde1c.mylabserver.com
[cloud_user@darshanphegde2c .ssh]$ 
```



4)Repeat the 3 steps above for server2 and transfer the keys to server1
